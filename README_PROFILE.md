# 个人中心功能说明

## 功能概述

个人中心页面采用两栏布局设计，为用户提供完整的个人资料管理和内容管理功能。

## 页面布局

### 左侧边栏
- **用户信息卡片**：显示用户头像、昵称、等级和积分
- **功能导航菜单**：包含11个主要功能模块

### 右侧内容区
- **动态内容展示**：根据左侧导航切换显示不同内容
- **操作按钮**：提供编辑、删除等操作功能

## 功能模块

### 1. 个人动态
- 展示用户的提问、回答、分享、评论等活动
- 支持按类型过滤（全部、提问、回答、分享、评论）
- 显示活动时间、浏览量和评论数

### 2. 个人资料编辑
- 基本信息编辑：昵称、邮箱、个人简介
- 联系方式：电话、个人网站
- 隐私设置：公开个人资料、显示邮箱、显示电话
- 实时保存功能

### 3. 我的提问
- 显示用户发布的所有问题
- 包含问题状态（待解决、已回答、已关闭）
- 显示回答数、浏览量和发布时间
- 支持编辑和删除操作

### 4. 我的回答
- 显示用户的所有回答
- 包含问题标题、回答内容预览
- 显示采纳状态、点赞数和评论数
- 支持编辑和删除操作

### 5. 我的分享
- 显示用户发布的技术分享文章
- 包含分类、浏览量、点赞数和评论数
- 支持编辑和删除操作

### 6. 我的资料
- 显示用户上传的学习资料
- 包含文件类型、大小、下载量和浏览量
- 支持编辑和删除操作

### 7. 我的收藏
- 显示用户收藏的问题、分享和资料
- 包含作者信息和收藏时间
- 支持查看和取消收藏操作

### 8. 我的关注
- 显示用户关注的其他用户
- 包含用户头像、简介和统计信息
- 支持查看资料和取消关注操作

### 9. 我的粉丝
- 显示关注用户的粉丝列表
- 包含用户信息和统计信息
- 支持查看资料和关注操作

### 10. 消息中心
- 显示系统消息、问题回复、关注通知等
- 支持标记已读和删除操作
- 提供全部已读功能

### 11. 设置
- **账户设置**：修改密码功能
- **通知设置**：邮件通知、浏览器通知、问题回复通知、关注通知

## 技术特性

### 前端特性
- 响应式设计，支持移动端访问
- 动态内容加载，提升用户体验
- 实时头像上传功能
- 消息提示系统
- 加载状态显示

### 后端特性
- RESTful API设计
- 用户认证和权限控制
- 数据库索引优化
- 文件上传处理
- 错误处理和日志记录

## 数据库设计

### 新增表结构
1. **follows** - 用户关注关系表
2. **favorites** - 用户收藏表
3. **messages** - 用户消息表

### 用户表扩展字段
- bio - 个人简介
- phone - 联系电话
- website - 个人网站
- profile_public - 是否公开个人资料
- show_email - 是否显示邮箱
- show_phone - 是否显示电话
- email_notifications - 邮件通知设置
- browser_notifications - 浏览器通知设置
- question_notifications - 问题回复通知设置
- follow_notifications - 关注通知设置

## API接口

### 用户动态相关
- `GET /api/user/activity` - 获取用户动态
- `GET /api/user/questions` - 获取用户提问
- `GET /api/user/answers` - 获取用户回答
- `GET /api/user/shares` - 获取用户分享
- `GET /api/user/resources` - 获取用户资料

### 社交功能相关
- `GET /api/user/favorites` - 获取用户收藏
- `GET /api/user/following` - 获取用户关注
- `GET /api/user/followers` - 获取用户粉丝
- `POST /api/user/:id/follow` - 关注用户
- `DELETE /api/user/:id/unfollow` - 取消关注
- `DELETE /api/user/favorites/:id` - 取消收藏

### 消息相关
- `GET /api/user/messages` - 获取用户消息
- `PUT /api/user/messages/read-all` - 标记所有消息已读
- `PUT /api/user/messages/:id/read` - 标记单条消息已读
- `DELETE /api/user/messages/:id` - 删除消息

### 个人资料相关
- `POST /api/user/avatar` - 上传头像
- `PUT /api/user/profile` - 更新个人资料
- `PUT /api/user/password` - 修改密码
- `PUT /api/user/notifications` - 保存通知设置

### 内容管理相关
- `DELETE /api/user/questions/:id` - 删除提问
- `DELETE /api/user/answers/:id` - 删除回答
- `DELETE /api/user/shares/:id` - 删除分享
- `DELETE /api/user/resources/:id` - 删除资料

## 使用说明

### 访问个人中心
1. 登录后点击顶部导航栏的用户头像
2. 选择"个人资料"菜单项
3. 进入个人中心页面

### 头像上传
1. 点击左侧用户信息卡片中的头像
2. 选择图片文件（支持JPG、PNG、GIF格式）
3. 文件大小限制为5MB
4. 上传成功后自动更新显示

### 编辑个人资料
1. 点击左侧"个人资料编辑"菜单
2. 修改相关信息
3. 点击"保存修改"按钮
4. 系统会显示保存成功提示

### 管理内容
1. 在左侧菜单中选择相应的内容类型
2. 查看内容列表
3. 使用操作按钮进行编辑或删除
4. 确认操作后系统会刷新列表

## 注意事项

1. 所有删除操作都需要用户确认
2. 头像上传支持常见图片格式
3. 个人资料修改会实时更新显示
4. 消息中心支持批量操作
5. 关注和收藏功能支持双向操作

## 未来扩展

1. 支持更多文件格式的头像上传
2. 添加用户等级和积分系统
3. 实现用户标签和技能展示
4. 添加用户成就系统
5. 支持个性化主题设置 