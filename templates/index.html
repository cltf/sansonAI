{{define "content"}}
<!-- 左侧导航区 -->
<aside class="sidebar">
                    <nav class="sidebar-nav">
                    <a href="/qa" class="nav-item">
                        <i class="fas fa-question-circle"></i>
                        <span>知识问答</span>
                    </a>
                    {{range .categories}}
                    <a href="/category/{{.ID}}" class="nav-item">
                        <i class="fas fa-folder"></i>
                        <span>{{.Name}}</span>
                        <span class="count">({{.PostCount}})</span>
                    </a>
                    {{end}}
                </nav>

    {{if .user}}
    <!-- 用户等级 -->
    <div class="user-level">
        <h3>用户等级</h3>
        <div class="level-progress">
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{.user.Level}}0%;"></div>
            </div>
            <span class="level-text">Lv.{{.user.Level}} {{.user.Username}}</span>
        </div>
        <p>积分: {{.user.Points}}</p>
    </div>
    {{end}}

    <!-- 社区规则 -->
    <div class="rules-section">
        <h3>社区规则</h3>
        <div class="rule-item">
            <i class="fas fa-check-circle"></i>
            <span>遵守社区规范</span>
        </div>
        <div class="rule-item">
            <i class="fas fa-check-circle"></i>
            <span>积极分享知识</span>
        </div>
    </div>
</aside>

<!-- 中间内容展示区 -->
<section class="content-area">
    <!-- 轮播图 -->
    <div class="carousel-section">
        <div class="carousel">
            <div class="carousel-item active">
                <div class="carousel-content">
                    <div class="carousel-text">
                        <h2>欢迎来到AI论坛</h2>
                        <p>在这里分享你的AI知识，与志同道合的朋友交流学习</p>
                        {{if .user}}
                        <a href="/post/new" class="btn-primary">发布新帖</a>
                        {{else}}
                        <a href="/auth/login" class="btn-primary">立即登录</a>
                        {{end}}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 最新帖子 -->
    <div class="posts-section">
        <div class="section-header">
            <h2>最新帖子</h2>
            {{if .user}}
            <a href="/post/new" class="btn-new-post">发布新帖</a>
            {{end}}
        </div>
        
        <div class="posts-list">
            {{range .posts}}
            <div class="post-item">
                <div class="post-avatar">
                    <img src="{{.UserAvatar}}" alt="用户头像">
                </div>
                <div class="post-content">
                    <h3 class="post-title">
                        <a href="/post/{{.ID}}">{{.Title}}</a>
                    </h3>
                    <div class="post-meta">
                        <span class="post-author">{{.Username}}</span>
                        <span class="post-time">{{.CreatedAt.Format "2006-01-02 15:04"}}</span>
                        {{if .Tags}}
                        <span class="post-tags">
                            {{range split .Tags ","}}
                            <span class="tag">{{.}}</span>
                            {{end}}
                        </span>
                        {{end}}
                    </div>
                    <div class="post-stats">
                        <span><i class="fas fa-eye"></i> {{.ViewCount}}</span>
                        <span><i class="fas fa-comment"></i> {{.ReplyCount}}</span>
                        <span><i class="fas fa-thumbs-up"></i> {{.LikeCount}}</span>
                    </div>
                </div>
            </div>
            {{end}}
        </div>
    </div>
</section>

<!-- 右侧信息推荐区 -->
<aside class="recommendation-area">
    {{if .user}}
    <!-- 用户信息 -->
    <div class="user-panel">
        <div class="user-info">
            <img src="{{.user.Avatar}}" alt="用户头像">
            <div class="user-details">
                <h4>{{.user.Username}}</h4>
                <div class="user-level-info">
                    <span>Lv.{{.user.Level}}</span>
                    <span>积分: {{.user.Points}}</span>
                </div>
            </div>
        </div>
    </div>
    {{else}}
    <!-- 登录面板 -->
    <div class="login-panel">
        <div class="panel-header">
            <h3>登录</h3>
            <a href="/auth/register" class="register-link">注册</a>
        </div>
        <form class="login-form" id="loginForm">
            <div class="form-group">
                <input type="text" name="username" placeholder="用户名" required>
            </div>
            <div class="form-group">
                <input type="password" name="password" placeholder="密码" required>
            </div>
            <button type="submit" class="btn-login">登录</button>
        </form>
    </div>
    {{end}}

    <!-- 热门帖子 -->
    <div class="hot-posts-panel">
        <h3>热门帖子</h3>
        <div class="hot-posts-list">
            {{range .hotPosts}}
            <div class="hot-post-item">
                <h4><a href="/post/{{.ID}}">{{.Title}}</a></h4>
                <div class="hot-post-meta">
                    <span>{{.Username}}</span>
                    <span>{{.ViewCount}} 浏览</span>
                </div>
            </div>
            {{end}}
        </div>
    </div>

    <!-- 热门标签 -->
    <div class="tags-panel">
        <h3>热门标签</h3>
        <div class="tag-cloud">
            <span class="tag">AI</span>
            <span class="tag">机器学习</span>
            <span class="tag">深度学习</span>
            <span class="tag">Python</span>
            <span class="tag">算法</span>
            <span class="tag">数据科学</span>
        </div>
    </div>
</aside>
{{end}} 