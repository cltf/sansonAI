<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI论坛管理后台 - 社群管理</title>
    <link rel="icon" type="image/png" href="images/logo.png" sizes="32x32">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #333;
        }

        .admin-container {
            display: flex;
            min-height: 100vh;
        }

        /* 左侧导航栏 */
        .sidebar {
            width: 260px;
            background: white;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 30px 25px;
            border-bottom: 1px solid #f0f0f0;
            text-align: center;
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .sidebar-logo img {
            width: 32px;
            height: 32px;
        }

        .sidebar-logo h2 {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .sidebar-subtitle {
            font-size: 12px;
            color: #666;
        }

        .nav-menu {
            padding: 20px 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 25px;
            color: #666;
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: #f8f9fa;
            color: #4A90E2;
            border-left-color: #4A90E2;
        }

        .nav-item.active {
            background: #e3f2fd;
            color: #4A90E2;
            border-left-color: #4A90E2;
            font-weight: 500;
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 16px;
        }

        .nav-item span {
            font-size: 14px;
        }

        /* 主内容区域 */
        .main-content {
            flex: 1;
            margin-left: 260px;
            min-height: 100vh;
        }

        /* 顶部导航栏 */
        .top-nav {
            background: white;
            padding: 20px 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: #333;
        }

        .top-nav-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .notification-icon {
            position: relative;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .notification-icon:hover {
            background: #f8f9fa;
        }

        .notification-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .user-info:hover {
            background: #f8f9fa;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
        }

        .user-details {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }

        .user-role {
            font-size: 12px;
            color: #666;
        }

        .logout-btn {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #fee;
            color: #e74c3c;
        }

        /* 内容区域 */
        .content-area {
            padding: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .stat-card h3 {
            color: #4A90E2;
            margin-bottom: 10px;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 14px;
            color: #666;
        }
        .community-list {
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }
        .community-item {
            border: 1px solid #f0f0f0;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .community-info h4 {
            margin: 0 0 5px 0;
            color: #333;
        }
        .community-info p {
            margin: 0;
            font-size: 12px;
            color: #666;
        }
        .community-actions {
            display: flex;
            gap: 10px;
        }
        .btn {
            background: #4A90E2;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        .btn:hover {
            background: #357ABD;
        }
        .btn-danger {
            background: #e74c3c;
        }
        .btn-danger:hover {
            background: #c0392b;
        }
        .btn-success {
            background: #27ae60;
        }
        .btn-success:hover {
            background: #229954;
        }
        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        .status-active {
            background: #d4edda;
            color: #155724;
        }
        .status-disabled {
            background: #f8d7da;
            color: #721c24;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #4A90E2;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- 左侧导航栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <img src="images/logo.png" alt="AI论坛Logo">
                    <h2>管理后台</h2>
                </div>
                <p class="sidebar-subtitle">AI论坛管理系统</p>
            </div>

            <nav class="nav-menu">
                <a href="admin_dashboard.html" class="nav-item">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>仪表盘</span>
                </a>
                <a href="admin_users.html" class="nav-item">
                    <i class="fas fa-users"></i>
                    <span>用户管理</span>
                </a>
                <a href="admin_content.html" class="nav-item">
                    <i class="fas fa-file-alt"></i>
                    <span>内容管理</span>
                </a>
                <a href="admin_community.html" class="nav-item active">
                    <i class="fas fa-comments"></i>
                    <span>社群管理</span>
                </a>
                <a href="admin_tags.html" class="nav-item">
                    <i class="fas fa-tags"></i>
                    <span>标签分类</span>
                </a>
                <a href="admin_analytics.html" class="nav-item">
                    <i class="fas fa-chart-line"></i>
                    <span>数据统计</span>
                </a>
                <a href="admin_settings.html" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>系统设置</span>
                </a>
            </nav>
        </aside>

        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 顶部导航栏 -->
            <header class="top-nav">
                <h1 class="page-title">社群管理</h1>
                
                <div class="top-nav-right">
                    <div class="notification-icon">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </div>
                    
                    <div class="user-info" onclick="toggleUserMenu()">
                        <img src="images/user.jpg" alt="管理员头像" class="user-avatar">
                        <div class="user-details">
                            <span class="user-name">管理员</span>
                            <span class="user-role">超级管理员</span>
                        </div>
                    </div>
                    
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </header>

            <!-- 内容区域 -->
            <div class="content-area">
        
        <div class="stats-grid">
            <div class="stat-card">
                <h3>总社群数</h3>
                <div class="stat-value">156</div>
                <div class="stat-label">所有创建的社群</div>
            </div>
            <div class="stat-card">
                <h3>活跃社群</h3>
                <div class="stat-value">142</div>
                <div class="stat-label">正常运行中的社群</div>
            </div>
            <div class="stat-card">
                <h3>已禁用</h3>
                <div class="stat-value">14</div>
                <div class="stat-label">被禁用的社群</div>
            </div>
            <div class="stat-card">
                <h3>总成员数</h3>
                <div class="stat-value">25,847</div>
                <div class="stat-label">所有社群成员</div>
            </div>
        </div>

        <div class="community-list">
            <h2>社群列表</h2>
            <div class="community-item" id="community-1001">
                <div class="community-info">
                    <h4>AI技术交流群</h4>
                    <p>ID: 1001 | 创建者：张三 | 成员：1,234 | 创建时间：2024-01-10</p>
                </div>
                <div class="community-actions">
                    <span class="status-badge status-active">正常</span>
                    <button class="btn" onclick="viewCommunity(1001)">
                        <i class="fas fa-eye"></i> 查看
                    </button>
                    <button class="btn" onclick="editCommunity(1001)">
                        <i class="fas fa-edit"></i> 编辑
                    </button>
                    <button class="btn btn-danger" onclick="toggleCommunityStatus(1001, 'disable')">
                        <i class="fas fa-ban"></i> 禁用
                    </button>
                </div>
            </div>

            <div class="community-item" id="community-1002">
                <div class="community-info">
                    <h4>机器学习实践</h4>
                    <p>ID: 1002 | 创建者：李四 | 成员：856 | 创建时间：2024-01-12</p>
                </div>
                <div class="community-actions">
                    <span class="status-badge status-active">正常</span>
                    <button class="btn" onclick="viewCommunity(1002)">
                        <i class="fas fa-eye"></i> 查看
                    </button>
                    <button class="btn" onclick="editCommunity(1002)">
                        <i class="fas fa-edit"></i> 编辑
                    </button>
                    <button class="btn btn-danger" onclick="toggleCommunityStatus(1002, 'disable')">
                        <i class="fas fa-ban"></i> 禁用
                    </button>
                </div>
            </div>

            <div class="community-item" id="community-1003">
                <div class="community-info">
                    <h4>Python编程学习</h4>
                    <p>ID: 1003 | 创建者：王五 | 成员：432 | 创建时间：2024-01-08</p>
                </div>
                <div class="community-actions">
                    <span class="status-badge status-disabled">已禁用</span>
                    <button class="btn" onclick="viewCommunity(1003)">
                        <i class="fas fa-eye"></i> 查看
                    </button>
                    <button class="btn" onclick="editCommunity(1003)">
                        <i class="fas fa-edit"></i> 编辑
                    </button>
                    <button class="btn btn-success" onclick="toggleCommunityStatus(1003, 'enable')">
                        <i class="fas fa-check"></i> 启用
                    </button>
                    <button class="btn btn-danger" onclick="deleteCommunity(1003)">
                        <i class="fas fa-trash"></i> 删除
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 检查登录状态
        function checkLogin() {
            const isLoggedIn = localStorage.getItem('adminLoggedIn') || sessionStorage.getItem('adminLoggedIn');
            if (!isLoggedIn) {
                window.location.href = 'admin_login.html';
            }
        }

        // 退出登录
        function logout() {
            if (confirm('确定要退出登录吗？')) {
                localStorage.removeItem('adminLoggedIn');
                localStorage.removeItem('adminUsername');
                sessionStorage.removeItem('adminLoggedIn');
                sessionStorage.removeItem('adminUsername');
                window.location.href = 'admin_login.html';
            }
        }

        // 切换用户菜单
        function toggleUserMenu() {
            console.log('切换用户菜单');
        }

        // 社群数据
        const communityData = {
            1001: {
                id: 1001,
                name: 'AI技术交流群',
                creator: '张三',
                members: 1234,
                createTime: '2024-01-10',
                status: 'active',
                description: '专注于AI技术交流与分享的专业社群，欢迎AI爱好者和从业者加入讨论。',
                category: 'AI技术',
                rules: ['禁止发布广告信息', '保持友善交流', '分享有价值的内容', '尊重他人观点'],
                tags: ['AI', '机器学习', '深度学习', '技术交流'],
                memberLevel: {
                    admin: 3,
                    moderator: 15,
                    member: 1216
                },
                recentActivity: [
                    { user: '李博士', action: '发布了新话题', content: '如何优化神经网络训练', time: '2小时前' },
                    { user: '王研究员', action: '回复了话题', content: 'Transformer模型应用', time: '4小时前' },
                    { user: '张教授', action: '加入社群', content: '', time: '6小时前' }
                ]
            },
            1002: {
                id: 1002,
                name: '机器学习实践',
                creator: '李四',
                members: 856,
                createTime: '2024-01-12',
                status: 'active',
                description: '机器学习项目实践和经验分享社群，从理论到实践，一起进步。',
                category: '机器学习',
                rules: ['分享真实项目经验', '提供代码和数据', '互相帮助解决问题'],
                tags: ['机器学习', 'Python', '数据科学', '项目实践'],
                memberLevel: {
                    admin: 2,
                    moderator: 8,
                    member: 846
                },
                recentActivity: [
                    { user: '赵工程师', action: '上传了项目', content: '房价预测模型', time: '1小时前' },
                    { user: '钱数据师', action: '分享经验', content: '特征工程技巧', time: '3小时前' }
                ]
            },
            1003: {
                id: 1003,
                name: 'Python编程学习',
                creator: '王五',
                members: 432,
                createTime: '2024-01-08',
                status: 'disabled',
                description: 'Python编程学习交流社群，适合初学者和进阶者。',
                category: '编程语言',
                rules: ['帮助新手解决问题', '分享学习资源', '代码规范讨论'],
                tags: ['Python', '编程', '学习', '初学者'],
                memberLevel: {
                    admin: 1,
                    moderator: 5,
                    member: 426
                },
                recentActivity: [
                    { user: '系统', action: '社群被禁用', content: '违反社区规定', time: '2天前' }
                ]
            }
        };

        // 查看社群详情
        function viewCommunity(id) {
            const community = communityData[id];
            if (!community) {
                alert('社群数据不存在');
                return;
            }

            showCommunityModal(community, 'view');
        }

        // 编辑社群
        function editCommunity(id) {
            const community = communityData[id];
            if (!community) {
                alert('社群数据不存在');
                return;
            }

            showCommunityModal(community, 'edit');
        }

        // 切换社群状态
        function toggleCommunityStatus(id, action) {
            const community = communityData[id];
            if (!community) {
                alert('社群数据不存在');
                return;
            }

            const actionText = action === 'enable' ? '启用' : '禁用';
            const confirmText = `确定要${actionText}社群"${community.name}"吗？`;
            
            if (confirm(confirmText)) {
                // 更新状态
                community.status = action === 'enable' ? 'active' : 'disabled';
                
                // 更新UI
                updateCommunityStatus(id, community.status);
                
                showMessage(`社群已${actionText}`, 'success');
            }
        }

        // 删除社群
        function deleteCommunity(id) {
            const community = communityData[id];
            if (!community) {
                alert('社群数据不存在');
                return;
            }

            const confirmText = `确定要删除社群"${community.name}"吗？此操作不可恢复！`;
            
            if (confirm(confirmText)) {
                // 从DOM中移除
                const element = document.getElementById(`community-${id}`);
                if (element) {
                    element.style.opacity = '0.5';
                    element.style.pointerEvents = 'none';
                    setTimeout(() => {
                        element.remove();
                    }, 500);
                }
                
                // 从数据中删除
                delete communityData[id];
                
                showMessage('社群已删除', 'success');
            }
        }

        // 显示社群模态框
        function showCommunityModal(community, mode) {
            const isEdit = mode === 'edit';
            const title = isEdit ? '编辑社群' : '社群详情';
            
            const modalHTML = `
                <div class="community-modal-overlay" id="communityModal">
                    <div class="community-modal">
                        <div class="modal-header">
                            <h3>${title}</h3>
                            <button class="modal-close" onclick="closeCommunityModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="community-details">
                                <div class="detail-section">
                                    <h4>基本信息</h4>
                                    <div class="detail-grid">
                                        <div class="detail-item">
                                            <label>社群名称：</label>
                                            ${isEdit ? `<input type="text" id="editName" value="${community.name}">` : `<span>${community.name}</span>`}
                                        </div>
                                        <div class="detail-item">
                                            <label>社群ID：</label>
                                            <span>${community.id}</span>
                                        </div>
                                        <div class="detail-item">
                                            <label>创建者：</label>
                                            <span>${community.creator}</span>
                                        </div>
                                        <div class="detail-item">
                                            <label>创建时间：</label>
                                            <span>${community.createTime}</span>
                                        </div>
                                        <div class="detail-item">
                                            <label>状态：</label>
                                            <span class="status-badge ${community.status === 'active' ? 'status-active' : 'status-disabled'}">
                                                ${community.status === 'active' ? '正常' : '已禁用'}
                                            </span>
                                        </div>
                                        <div class="detail-item">
                                            <label>成员数量：</label>
                                            <span>${community.members.toLocaleString()}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="detail-section">
                                    <h4>社群描述</h4>
                                    ${isEdit ? `<textarea id="editDescription" rows="3">${community.description}</textarea>` : `<p>${community.description}</p>`}
                                </div>

                                <div class="detail-section">
                                    <h4>社群分类</h4>
                                    ${isEdit ? `<input type="text" id="editCategory" value="${community.category}">` : `<span>${community.category}</span>`}
                                </div>

                                <div class="detail-section">
                                    <h4>社群标签</h4>
                                    <div class="tags-container">
                                        ${community.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                                    </div>
                                </div>

                                <div class="detail-section">
                                    <h4>成员构成</h4>
                                    <div class="member-stats">
                                        <div class="member-stat">
                                            <span class="stat-label">管理员</span>
                                            <span class="stat-value">${community.memberLevel.admin}</span>
                                        </div>
                                        <div class="member-stat">
                                            <span class="stat-label">版主</span>
                                            <span class="stat-value">${community.memberLevel.moderator}</span>
                                        </div>
                                        <div class="member-stat">
                                            <span class="stat-label">普通成员</span>
                                            <span class="stat-value">${community.memberLevel.member}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="detail-section">
                                    <h4>社群规则</h4>
                                    <ul class="rules-list">
                                        ${community.rules.map(rule => `<li>${rule}</li>`).join('')}
                                    </ul>
                                </div>

                                <div class="detail-section">
                                    <h4>最近活动</h4>
                                    <div class="activity-list">
                                        ${community.recentActivity.map(activity => `
                                            <div class="activity-item">
                                                <div class="activity-user">${activity.user}</div>
                                                <div class="activity-content">${activity.action}${activity.content ? ': ' + activity.content : ''}</div>
                                                <div class="activity-time">${activity.time}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" onclick="closeCommunityModal()">关闭</button>
                            ${isEdit ? `<button class="btn btn-primary" onclick="saveCommunityChanges(${community.id})">保存修改</button>` : ''}
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHTML);
            addCommunityModalStyles();
            
            setTimeout(() => {
                document.getElementById('communityModal').classList.add('show');
            }, 10);
        }

        // 关闭社群模态框
        function closeCommunityModal() {
            const modal = document.getElementById('communityModal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(modal);
                }, 300);
            }
        }

        // 保存社群修改
        function saveCommunityChanges(id) {
            const name = document.getElementById('editName').value.trim();
            const description = document.getElementById('editDescription').value.trim();
            const category = document.getElementById('editCategory').value.trim();

            if (!name || !description || !category) {
                alert('请填写所有必填信息');
                return;
            }

            // 更新数据
            communityData[id].name = name;
            communityData[id].description = description;
            communityData[id].category = category;

            // 更新UI
            const communityElement = document.getElementById(`community-${id}`);
            if (communityElement) {
                communityElement.querySelector('h4').textContent = name;
            }

            closeCommunityModal();
            showMessage('社群信息已更新', 'success');
        }

        // 更新社群状态
        function updateCommunityStatus(id, status) {
            const communityElement = document.getElementById(`community-${id}`);
            if (!communityElement) return;

            const statusBadge = communityElement.querySelector('.status-badge');
            const actions = communityElement.querySelector('.community-actions');

            if (status === 'active') {
                statusBadge.className = 'status-badge status-active';
                statusBadge.textContent = '正常';
                
                // 更新按钮
                actions.innerHTML = `
                    <span class="status-badge status-active">正常</span>
                    <button class="btn" onclick="viewCommunity(${id})">
                        <i class="fas fa-eye"></i> 查看
                    </button>
                    <button class="btn" onclick="editCommunity(${id})">
                        <i class="fas fa-edit"></i> 编辑
                    </button>
                    <button class="btn btn-danger" onclick="toggleCommunityStatus(${id}, 'disable')">
                        <i class="fas fa-ban"></i> 禁用
                    </button>
                `;
            } else {
                statusBadge.className = 'status-badge status-disabled';
                statusBadge.textContent = '已禁用';
                
                // 更新按钮
                actions.innerHTML = `
                    <span class="status-badge status-disabled">已禁用</span>
                    <button class="btn" onclick="viewCommunity(${id})">
                        <i class="fas fa-eye"></i> 查看
                    </button>
                    <button class="btn" onclick="editCommunity(${id})">
                        <i class="fas fa-edit"></i> 编辑
                    </button>
                    <button class="btn btn-success" onclick="toggleCommunityStatus(${id}, 'enable')">
                        <i class="fas fa-check"></i> 启用
                    </button>
                    <button class="btn btn-danger" onclick="deleteCommunity(${id})">
                        <i class="fas fa-trash"></i> 删除
                    </button>
                `;
            }
        }

        // 显示消息
        function showMessage(message, type = 'info') {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message message-${type}`;
            messageDiv.textContent = message;
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                border-radius: 6px;
                color: white;
                font-size: 14px;
                z-index: 10001;
                animation: slideIn 0.3s ease;
            `;
            
            if (type === 'success') {
                messageDiv.style.background = '#27ae60';
            } else {
                messageDiv.style.background = '#4A90E2';
            }
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (document.body.contains(messageDiv)) {
                        document.body.removeChild(messageDiv);
                    }
                }, 300);
            }, 3000);
        }

        // 添加模态框样式
        function addCommunityModalStyles() {
            if (document.getElementById('communityModalStyles')) return;
            
            const style = document.createElement('style');
            style.id = 'communityModalStyles';
            style.textContent = `
                .community-modal-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.5);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                }

                .community-modal-overlay.show {
                    opacity: 1;
                }

                .community-modal {
                    background: white;
                    border-radius: 8px;
                    width: 90%;
                    max-width: 800px;
                    max-height: 90vh;
                    display: flex;
                    flex-direction: column;
                    transform: scale(0.9);
                    transition: transform 0.3s ease;
                }

                .community-modal-overlay.show .community-modal {
                    transform: scale(1);
                }

                .modal-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 20px;
                    border-bottom: 1px solid #e1e5e9;
                }

                .modal-header h3 {
                    margin: 0;
                    color: #333;
                    font-size: 18px;
                }

                .modal-close {
                    background: none;
                    border: none;
                    font-size: 20px;
                    cursor: pointer;
                    color: #666;
                    padding: 5px;
                }

                .modal-close:hover {
                    color: #333;
                }

                .modal-body {
                    padding: 20px;
                    overflow-y: auto;
                    flex: 1;
                }

                .detail-section {
                    margin-bottom: 25px;
                }

                .detail-section h4 {
                    margin: 0 0 15px 0;
                    color: #4A90E2;
                    font-size: 16px;
                    border-bottom: 2px solid #e1e5e9;
                    padding-bottom: 5px;
                }

                .detail-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                    gap: 15px;
                }

                .detail-item {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .detail-item label {
                    font-weight: 500;
                    color: #666;
                    min-width: 80px;
                }

                .detail-item input, .detail-item textarea {
                    border: 1px solid #ddd;
                    border-radius: 4px;
                    padding: 8px;
                    flex: 1;
                    font-size: 14px;
                }

                .tags-container {
                    display: flex;
                    gap: 8px;
                    flex-wrap: wrap;
                }

                .tag {
                    background: #4A90E2;
                    color: white;
                    padding: 4px 8px;
                    border-radius: 12px;
                    font-size: 12px;
                }

                .member-stats {
                    display: flex;
                    gap: 20px;
                    flex-wrap: wrap;
                }

                .member-stat {
                    text-align: center;
                    padding: 15px;
                    background: #f8f9fa;
                    border-radius: 8px;
                    min-width: 100px;
                }

                .member-stat .stat-label {
                    display: block;
                    font-size: 12px;
                    color: #666;
                    margin-bottom: 5px;
                }

                .member-stat .stat-value {
                    display: block;
                    font-size: 24px;
                    font-weight: bold;
                    color: #4A90E2;
                }

                .rules-list {
                    margin: 0;
                    padding-left: 20px;
                }

                .rules-list li {
                    margin-bottom: 8px;
                    color: #555;
                }

                .activity-list {
                    max-height: 200px;
                    overflow-y: auto;
                }

                .activity-item {
                    padding: 10px;
                    border-bottom: 1px solid #f0f0f0;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    gap: 15px;
                }

                .activity-user {
                    font-weight: 500;
                    color: #4A90E2;
                    min-width: 80px;
                }

                .activity-content {
                    flex: 1;
                    color: #333;
                }

                .activity-time {
                    font-size: 12px;
                    color: #999;
                    min-width: 60px;
                }

                .modal-footer {
                    display: flex;
                    justify-content: flex-end;
                    gap: 10px;
                    padding: 20px;
                    border-top: 1px solid #e1e5e9;
                }

                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            
            document.head.appendChild(style);
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            checkLogin();
        });
    </script>
</body>
</html>
